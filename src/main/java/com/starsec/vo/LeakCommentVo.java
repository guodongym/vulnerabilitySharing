package com.starsec.vo;

import com.starsec.constants.Constants;
import com.starsec.model.Vo;
import com.starsec.po.LeakComment;
import com.starsec.util.DateUtil;
import com.starsec.util.SessionUtil;

public class LeakCommentVo implements Vo<LeakComment> {

	private Integer commentId;

	private Integer commentUserId;

	private String commentUserAccount;

	private Integer attachmentId;

	private String attachmentDownLoadPath;

	private String commentTime;

	private String content;

	public Integer getCommentId() {
		return commentId;
	}

	public void setCommentId(Integer commentId) {
		this.commentId = commentId;
	}

	public Integer getCommentUserId() {
		return commentUserId;
	}

	public void setCommentUserId(Integer commentUserId) {
		this.commentUserId = commentUserId;
	}

	public String getCommentUserAccount() {
		return commentUserAccount;
	}

	public void setCommentUserAccount(String commentUserAccount) {
		this.commentUserAccount = commentUserAccount;
	}

	public Integer getAttachmentId() {
		return attachmentId;
	}

	public void setAttachmentId(Integer attachmentId) {
		this.attachmentId = attachmentId;
	}

	public String getAttachmentDownLoadPath() {
		return attachmentDownLoadPath;
	}

	public void setAttachmentDownLoadPath(String attachmentDownLoadPath) {
		this.attachmentDownLoadPath = attachmentDownLoadPath;
	}

	public String getCommentTime() {
		return commentTime;
	}

	public void setCommentTime(String commentTime) {
		this.commentTime = commentTime;
	}

	public String getContent() {
		return content;
	}

	public void setContent(String content) {
		this.content = content;
	}

	@Override
	public void from(LeakComment po) {
		setCommentId(po.getId());
		setCommentTime(DateUtil.formatDateTime(po.getCommentTime()));
		setCommentUserId(po.getCommentUser().getId());
		setCommentUserAccount(po.getCommentUser().getUserAccount());
		setContent(po.getContent());
		
		String ctx = (String) SessionUtil.getRequest().getAttribute(Constants.CTX);
		Integer attachmentId = 0;
		if(po.getCommentUser().getSysAttachment() != null){
			attachmentId = po.getCommentUser().getSysAttachment().getId();
		}
		String attachmentDownLoadPath = ctx + Constants.DOWNLOAD_FILE_URL + attachmentId.toString();
		setAttachmentId(attachmentId);
		setAttachmentDownLoadPath(attachmentDownLoadPath);
	}

}