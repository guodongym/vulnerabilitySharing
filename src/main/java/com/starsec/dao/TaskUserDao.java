package com.starsec.dao;

import java.io.Serializable;
import java.util.List;

import org.springframework.stereotype.Repository;

import com.starsec.po.TaskUser;

/** 任务和用户中间表（记录领取任务的队员）(TASK_USER) **/
@Repository
public class TaskUserDao extends BaseDao<TaskUser, Serializable> {

	public List<TaskUser> findByTaskId(Integer taskId) {
		return super.getListByHQL(" from " + TaskUser.class.getCanonicalName() + " where task.id = ?", taskId);
	}

	public List<TaskUser> findByTaskAndUserId(Integer taskId, Integer userId) {
		return super.getListByHQL(" from " + TaskUser.class.getCanonicalName() + " where task.id = ? and sysUser.id = ?", taskId, userId);
	}

	public List<TaskUser> findNotLeaderByTaskId(Integer taskId) {
		return super.getListByHQL(" from " + TaskUser.class.getCanonicalName() + " where task.id = ? and isLeader = ? ", taskId, false);
	}
}